weapon_stats = {
    # 무기별 스탯 및 설명, 사용법
    "gun1": {
        "name": "M1911",
        "power": 28,
        "spread": 8,
        "cost": 5,
        "rank": "1",
        "desc": "NF 코퍼레이션이 지급하는 기본 권총입니다. 모든 경비들이 차고다닙니다.",
        "usage": "좌클릭\n단발사격."
    },
    "gun2": {
        "name": "AK47",
        "power": 18,
        "spread": 9,
        "cost": 3,
        "rank": "1",
        "desc": "NF 코퍼레이션이 군인들에게 지급하는 기본 소총입니다.",
        "usage": "좌클릭\n연사"
    },
    "gun3": {
        "name": "Remington 870",
        "power": "8 x 15발",
        "spread": 30,
        "cost": 8,
        "rank": "2",
        "desc": "사거리가 다른 샷건들보단 짧지만, 근거리에서는 강력한 위력을 자랑합니다.",
        "usage": "좌클릭\n15발 산탄 발사"
    },
    "gun4": {
        "name": "유탄 발사기",
        "power": "최대 80 / 최소 15",
        "spread": 0,
        "cost": 15,
        "rank": "3",
        "desc": "광역 피해를 주는 폭발 무기입니다. 중심에 가까울수록 피해가 큽니다.",
        "usage": "좌클릭\n사거리가 적당한 유탄 발사"
    },
    "gun5": {
        "name": "미니건",
        "power": 14,
        "spread": 5,
        "cost": 6,
        "rank": "2",
        "desc": "강력한 연사력의 기관총입니다. 발사 전 약간의 예열 시간이 필요합니다.",
        "usage": "좌클릭\n0.8간의 예열 시간 후 강력한 연사력으로 발사\n마우스를 놓으면 1.0간의 과열 시간이 존재하며, 시간이 지날때까지 다시 예열 불가능"
    },
    "gun6": {
        "name": "개조된 기관단총",
        "power": "좌: 20 / 우: 최대 80, 최소 30",
        "spread": "좌: 8 / 우: 0",
        "cost": "좌: 7 / 우: 15",
        "rank": "3",
        "desc": "빠루를 든 사내가 애용하는 기관단총입니다. 우클릭 시 유탄을 발사할 수 있습니다.",
        "usage": "좌클릭\n연사\n\n우클릭\n사거리가 짧은 유탄 발사"
    },
    "gun7": {
        "name": "C8-SFW",
        "power": "좌: 25 / 우: 17 x 5발",
        "spread": "좌: 6 / 우: 15",
        "cost": "좌: 4 / 우: 10",
        "rank": "2",
        "desc": "BUCK이라고 불리는 대원이 애용하는 돌격소총입니다. 우클릭으로 산탄을 발사할 수 있습니다.",
        "usage": "좌클릭\n연사\n\n우클릭\n산탄 발사"
    },
    "gun8": {
        "name": "RPG",
        "power": "최대 120 / 최소 40",
        "spread": 0,
        "cost": 29,
        "rank": "3",
        "desc": "강력한 폭발 범위를 가진 로켓 발사기입니다.",
        "usage": "좌클릭\n로켓 발사"
    },
    "gun9": {
        "name": "ARX200",
        "power": "좌: 25 / 우: 10 + 넉백",
        "spread": "좌: 6 / 우: 0",
        "cost": "좌: 8 / 우: 18",
        "rank": "4",
        "desc": "NOMAD라고 불리는 대원이 애용하는 돌격소총입니다. 우클릭으로 적을 밀치는 기압탄을 발사합니다.",
        "usage": "좌클릭\n연사\n\n우클릭\n기압탄 발사"
    },
    "gun10": {
        "name": "Mx4 Storm",
        "power": "좌: 16 / 우: 20",
        "spread": "좌: 12 / 우: 8",
        "cost": "좌: 5 / 우: 6",
        "rank": "2",
        "desc": "가벼운 무게와 빠른 연사력을 가진 기관단총입니다. 우클릭 시 정밀 사격(ADS) 모드로 전환되어 탄퍼짐과 반동이 줄어듭니다.",
        "usage": "좌클릭\n기본 연사 사격\n\n우클릭\n정밀 사격(ADS) 모드 전환"
    },
    "gun11": {
        "name": "SPAS-15",
        "power": "8 x 6발",
        "spread": 60,
        "cost": 10,
        "rank": "3",
        "desc": "반자동으로 빠르게 쏠 수 있는 산탄총입니다. 근거리에서 여러 적에게 강한 위력을 발휘합니다.",
        "usage": "좌클릭\n6발의 산탄을 한 번에 발사"
    },
    "gun12": {
        "name": "DP-27",
        "power": 80,
        "spread": 6,
        "cost": 8,
        "rank": "3",
        "desc": "구 소련의 경기관총을 개조한 중화기입니다. 한 발 한 발 강력한 위력을 자랑합니다.",
        "usage": "좌클릭\n단발 사격\n(한 번에 강한 데미지)"
    },
    "gun13": {
        "name": "MPX",
        "power": "좌: 18 / 우: 22",
        "spread": "좌: 10 / 우: 8",
        "cost": "좌: 4 / 우: 5",
        "rank": "1",
        "desc": "경량 SMG로, 연사력과 휴대성이 뛰어납니다. 우클릭 시 정밀 사격(ADS) 모드로 더욱 정확하게 공격할 수 있습니다.",
        "usage": "좌클릭\n연사\n\n우클릭\n정밀 사격(ADS) 모드"
    },
    "gun14": {
        "name": "MP5",
        "power": "좌: 20 / 우: 24",
        "spread": "좌: 9 / 우: 8",
        "cost": "좌: 4 / 우: 5",
        "rank": "2",
        "desc": "전통적인 NF 코퍼레이션의 기관단총입니다. ADS 모드에서는 반동이 줄고 명중률이 올라갑니다.",
        "usage": "좌클릭\n연사\n\n우클릭\n정밀 사격(ADS) 모드"
    },
    "gun15": {
        "name": "플라즈마 라이플",
        "power": "좌: 24 / 우: 최대 150",
        "spread": 10,
        "cost": 10,
        "rank": "5",
        "desc": "UAC의 군사 기술 부서에서 설계한 첨단 무기이며, 악마를 찢고 죽이는 남자가 애용합니다. 차지(충전) 후 우클릭 시 광역 플라즈마 공격을 펼칠 수 있습니다.",
        "usage": "좌클릭\n플라즈마 에너지 발사(차지 증가, 최대 50차지)\n\n우클릭\n차지된 에너지를 광역 공격으로 방출"
    },
    "gun16": {
        "name": "P90",
        "power": "좌: 12 / 우: 14",
        "spread": "좌: 15 / 우: 9",
        "cost": "좌: 3 / 우: 4",
        "rank": "1",
        "desc": "50발 대용량 탄창의 소형 PDW. 우클릭 시 조준 사격(ADS) 모드로 명중률이 향상됩니다.",
        "usage": "좌클릭\n연사\n\n우클릭\n조준 사격(ADS) 모드"
    },
    "gun17": {
        "name": "FAMAS",
        "power": "3점사: 30",
        "spread": 0,
        "cost": 5,
        "rank": "3",
        "desc": "프랑스산 돌격소총. 트리거 한 번에 3발의 점사로 공격합니다.",
        "usage": "좌클릭\n3점사 사격(짧은 시간에 3발 발사)"
    },
    "gun18": {
        "name": "SMG-11",
        "power": 13,
        "spread": 30,
        "cost": 7,
        "rank": "1",
        "desc": "초소형 기관단총으로, 매우 빠른 연사력과 넓은 탄퍼짐을 지녔습니다.",
        "usage": "좌클릭\n고속 연사 사격"
    },
    "gun19": {
        "name": "방패",
        "power": "-",
        "spread": "-",
        "cost": "-",
        "rank": "4",
        "desc": "강력한 내구성의 방패로, 전방에서 오는 공격을 막아냅니다. 방어 시 탄약 게이지가 감소합니다. 다만, 폭팔 혹은 장판은 막지 못합니다.",
        "usage": "좌클릭\n방패 전개 및 방어 상태 유지(계속 누르기)"
    },
    "gun20": {
        "name": "수류탄",
        "power": "최대 80 / 최소 30",
        "spread": 0,
        "cost": 35,
        "rank": "4",
        "desc": "일정 시간 후 폭발하며 넓은 범위에 피해를 입히는 투척 무기입니다. 3발이 동시에 부채꼴로 발사됩니다.",
        "usage": "좌클릭\n핀 뽑은 후 잠시 뒤 3발 부채꼴 투척\n0.8초 후 폭발"
    }
}

STATUS_EVAL_TEMPLATES = {
    # 퍼센트 구간 대신 설명형 문장 사용
    "hp_state": "{hp_sentence} ({hp_bucket})",
    "ammo_state": "{ammo_sentence} ({ammo_bucket})",
    # 값에 따라 고유 멘트
    "weapon_state": "{weapon_sentence} ({weapon_count}/4)",
    "stage_progress": "스테이지 안내: {stage_desc}",
    "kills_state": "{kill_sentence} (처치: {kills})",
    "essence_state": "{essence_sentence} (악의 정수: {essence})",
    "hp_max_state": "{hpmax_sentence} (최대 체력: {hp_max})",
    "ammo_max_state": "{ammomax_sentence} (최대 탄약: {ammo_max})",
}

# 버킷 라벨 (텍스트만)
HP_BUCKET_LABELS = ["0~25%", "25~50%", "50~75%", "75~100%"]
AMMO_BUCKET_LABELS = ["0~25%", "25~50%", "50~75%", "75~100%"]

# 스테이지 경로(텍스트만) — 현재 스테이지는 코드에서 괄호로 표시
STAGE_ORDER = ["1-1","1-2","1-3","2-1","2-2","2-3","3-1","3-2","3-3"]

# HP/탄약 4분할 설명
HP_BUCKET_SENTENCES = [
    "체력 매우 낮음. 즉시 치료 권장.",
    "체력 낮음. 교전 시 주의 필요.",
    "체력 양호. 안정적으로 전투 가능.",
    "체력 매우 양호. 모든 것이 괜찮습니다."
]
AMMO_BUCKET_SENTENCES = [
    "탄약 거의 없음. 근접이나 보급이 필요함.",
    "탄약 부족. 무기 운용에 제약 발생.",
    "탄약 보통. 상황에 따라 절약 운용 권장.",
    "탄약 충분. 화력을 유지할 수 있음."
]

# 스테이지 설명(코드 대신 보여줄 문장)
STAGE_DESCRIPTIONS = {
    "1-1": "(나중에 스토리 짜고 재작성 필요)",
    "1-2": "(나중에 스토리 짜고 재작성 필요)",
    "1-3": "(나중에 스토리 짜고 재작성 필요)",
    "2-1": "(나중에 스토리 짜고 재작성 필요)",
    "2-2": "(나중에 스토리 짜고 재작성 필요)",
    "2-3": "(나중에 스토리 짜고 재작성 필요)",
    "3-1": "(나중에 스토리 짜고 재작성 필요)",
    "3-2": "(나중에 스토리 짜고 재작성 필요)",
    "3-3": "(나중에 스토리 짜고 재작성 필요)",
}

# 무기 개수(0~4)
WEAPON_COUNT_SENTENCES = [
    "무기가 없습니다. 매우 위험한 상태입니다.",
    "무기 1개. 최소한의 전투가 가능합니다.",
    "무기 2개. 선택지가 생겼습니다.",
    "무기 3개. 대부분 상황에 대응 가능합니다.",
    "무기 4개. 전력 최적화 상태입니다."
]

# 처치 수 — 기준은 적당히 단계감 있게
KILL_THRESHOLDS   = [0, 10, 30, 60, 100]
KILL_SENTENCES    = [
    "전투 시작 단계입니다.",
    "전투 감각이 살아납니다.",
    "사냥꾼의 기세가 붙었습니다.",
    "적들이 도망치기 시작합니다.",
    "전설로 기록될 전투력입니다."
]

# 악의 정수(보유량)
ESSENCE_THRESHOLDS = [0, 500, 2000, 5000, 10000]
ESSENCE_SENTENCES  = [
    "자원이 거의 없습니다. 지출에 주의하세요.",
    "기본 보급이 가능합니다.",
    "여유 있는 보급/강화가 가능합니다.",
    "대부분의 강화가 가능한 풍족한 상태입니다.",
    "과잉 자원. 원하는 대로 투자할 수 있습니다."
]

# 최대 체력
HP_MAX_THRESHOLDS = [200, 240, 300, 360, 420]
HP_MAX_SENTENCES  = [
    "기본 체력 수준입니다.",
    "개량된 슈트. 생존성이 향상되었습니다.",
    "고강도 장갑. 장기 교전에도 유리합니다.",
    "강화 초과. 체력 기반이 매우 튼튼합니다.",
    "과충전급 체력. 보스전에 최적입니다."
]

# 최대 탄약 게이지
AMMO_MAX_THRESHOLDS = [300, 360, 420, 500, 600]
AMMO_MAX_SENTENCES  = [
    "기본 탄약 용량입니다.",
    "추가 탄창 확보. 전투 지속력이 상승했습니다.",
    "대용량 탄창. 화력 유지가 수월합니다.",
    "초대형 탄창. 무기 운용 제약이 거의 없습니다.",
    "과잉 보급. 지속 화력 투사가 가능합니다."
]

merchant_dialogue = [
    # 0
    {
        "speaker": "상인",
        "text": "왜 왔는가? 나에게 요구할 것이 있나? 천천히 쉬다 가게. 시간은 많으니. 아, 자네에게는 아닐 수도 있겠군.",
        "choices": None,
        "effect": None,
        "next": 1
    },
    # 1
    {
        "speaker": "상인",
        "text": "필요한 것이 있는가? 말만 하게. 최대한 협력하겠네.",
        "choices": [
            {"text": "체력 회복", "next": 2},
            {"text": "탄약 게이지 회복", "next": 3},
            {"text": "나가기", "next": 4}
        ],
        "effect": None,
        "next": None
    },
    # 2
    {
        "speaker": "상인",
        "choices": None,
        "effect": {"type": "hp_recover", "amount": 50},
        "effect_messages": {
            "success": "좋아. 체력을 {gained} 회복해주지. (-{cost} 악의 정수)",
            "full": "이미 최상의 컨디션이군. 치료는 필요 없지.",
            "insufficient": "악의 정수가 부족하군. 거래는 성립되지 않는다. (부족: {need})"
        },
        "next": 1
    },
    # 3
    {
        "speaker": "상인",
        "choices": None,
        "effect": {"type": "ammo_recover", "amount": 50},
        "effect_messages": {
            "success": "보급 완료. 탄약 게이지 {gained} 회복. (-{cost} 악의 정수)",
            "full": "탄약은 이미 충분해 보이는군.",
            "insufficient": "악의 정수가 부족해. 이건 거래가 아니지. (부족: {need})"
        },
        "next": 1
    },
    # 4
    {
        "speaker": "상인",
        "text": "몸 다치지 말고, 조심하게나!",
        "choices": None,
        "effect": None,
        "next": None  # None == 대화 종료
    }
]

drone_dialogue = [
    # 0
    {
        "speaker": "드론",
        "text": "새친 박사님께서 보내주신 AI 드론입니다. 무엇을 도와드릴까요?",
        "choices": [
            {"text": "체력 최대치 +20", "next": 1},
            {"text": "탄약 게이지 최대치 +20", "next": 2},
            {"text": "나가기", "next": None}
        ],
        "effect": None,
        "next": None
    },
    # 1 HP MAX UP
    {
        "speaker": "드론",
        "choices": None,
        "effect": {"type": "hp_max_up", "amount": 20},
        "effect_messages": {
            "prompt": "체력 최대치 +{gained}. 비용 {cost} 악의 정수. 진행하시겠습니까?",
            "success": "업그레이드 완료. 체력 최대치가 +{gained} 되었습니다. (-{cost})",
            "insufficient": "악의 정수가 부족합니다. 추가 확보 후 재시도하십시오."
        },
        "next": 0
    },
    # 2 AMMO MAX UP
    {
        "speaker": "드론",
        "choices": None,
        "effect": {"type": "ammo_max_up", "amount": 20},
        "effect_messages": {
            "prompt": "탄약 게이지 최대치 +{gained}. 비용 {cost} 악의 정수. 진행하시겠습니까?",
            "success": "업그레이드 완료. 탄약 게이지 최대치가 +{gained} 되었습니다. (-{cost})",
            "insufficient": "악의 정수가 부족합니다. 추가 확보 후 재시도하십시오."
        },
        "next": 0
    }
]

doctorNF_dialogue = [
    # 0
    {
        "speaker": "새친 연구원",
        "text": "다행히 제 시간에 늦지않고 왔네. 내가 게임에 필요한 기본적인 것들을 알려줄께. 좌클릭을 통해 대화를 넘겨봐.",
        "choices": None,
        "effect": None,
        "next": 1
    },
    # 1
    {
        "speaker": "새친 연구원",
        "text": "궁금한게 있어?",
        "choices": [
            {"text": "조작법", "next": 2},
            {"text": "공격", "next": 4},
            {"text": "체력", "next": 6},
            {"text": "적", "next": 8},
            {"text": "없습니다", "next": 10}
        ],
        "effect": None,
        "next": None
    },
    # 2
    {
        "speaker": "새친 연구원",
        "text": "기본적인 이동방법은 이미 알고있겠지. W, A, S, D를 통해 이동할 수 있어. 추가로, 여기서 Shift키까지 누르면 달리기도 가능하지. 하지만 주의해. 달리는 도중에 다시 무기를 쓰면, 강제로 걷는 상태로 변경될거야.",
        "choices": None,
        "effect": None,
        "next": 3
    },
    # 3
    {
        "speaker": "새친 연구원",
        "text": "Tab을 누르면 UI창을 열 수 있어. 간단히 너의 상태를 볼 수 있고, 상단의 버튼들을 눌러서 너가 들고 있는 무기들의 여러가지 정보를 알 수도 있지. 또한, 무기를 주으려면 Space키를 누르면 돼.",
        "choices": None,
        "effect": None,
        "next": 1
    },
    # 4
    {
        "speaker": "새친 연구원",
        "text": "좌/우클릭으로 무기를 발사할 수 있어. 하지만, 탄약 게이지를 소모하지. 탄약 게이지가 바닥나면, 너는 강제로 V키를 눌러서 근접 공격을 해야해. 근접 공격을 할시엔, 탄약 게이지 오브가 떨어지니 참고하라고.",
        "choices": None,
        "effect": None,
        "next": 5
    },
    # 5
    {
        "speaker": "새친 연구원",
        "text": "무기는 총 1등급부터 5등급까지 있어. 물론 등급이 올라갈수록 위력이 높아지겠지만, 소모되는 탄약 게이지량도 증가하겠지. 탄약 게이지를 얻는 방법은 상인에게 말을 걸거나, 적을 죽이면 오브가 나와.",
        "choices": None,
        "effect": None,
        "next": 1
    },
    # 6
    {
        "speaker": "새친 연구원",
        "text": "체력이 0이 되면 사망한다. 물론 발생해서는 안되는 일이지.",
        "choices": None,
        "effect": None,
        "next": 7
    },
    # 7
    {
        "speaker": "새친 연구원",
        "text": "체력을 회복하는 수단은 크게 두가지가 있어. 첫번째는, 적을 죽이면 체력 오브가 나오는데, 그것을 얻는 방법이야. 두번째는, 상인에게 말을 걸면 일정 체력을 회복할 수 있어.",
        "choices": None,
        "effect": None,
        "next": 1
    },
    # 8
    {
        "speaker": "새친 연구원",
        "text": "적의 등급은 1등급부터 10등급까지 있어. 등급이 높을수록 떨어뜨리는 오브의 양, 위력, 체력 등등이 증가하지. 또한, 10등급은 보스만 가지고 있는 등급이니 참고하는게 좋아. 그리고, 보스는 매 스테이지 나오니깐 주의하라고.",
        "choices": None,
        "effect": None,
        "next": 9
    },
    # 9
    {
        "speaker": "새친 연구원",
        "text": "등급에 따른 적을 처치하면 악의 정수라는 포인트를 얻는다. 너는 이 포인트를 상점에서 사용해서 상태를 회복하거나 무기들을 구매할 수 있지.",
        "choices": None,
        "effect": None,
        "next": 1
    },
    # 10
    {
        "speaker": "새친 연구원",
        "text": "모두 이해되었지? 나도 최선으로 도와줄테니 한번 가보자고.",
        "choices": None,
        "effect": None,
        "next": None
    }
]